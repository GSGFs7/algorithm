#include <bits/stdc++.h>

using namespace std;

/*
 * ç»™å‡ºä¸€ä¸ªæ•°ç»„ å¯ä»¥é€‰æ‹©ä¸€ä¸ª a[i]==len(a)+1-i çš„ä½ç½®åœ¨æ•°ç»„åé¢åŠ ä¸Š i-1 ä¸ª0
 * é—®æœ€å¤§çš„æ•°ç»„é•¿åº¦
 *
 * å› ä¸ºèƒ½å¤Ÿç¬¦åˆ a[i]==len(a)+1-i çš„ä½ç½®æœ€å¤šåªèƒ½ä½¿ç”¨ä¸€æ¬¡
 * ä¹Ÿå°±æ˜¯è¯´ len(a)+=i-1 åè¿™ä¸ªç‚¹å°±ç”¨ä¸åˆ°äº† éœ€è¦å¦å¤–æ‰¾å…¶ä»–çš„ç‚¹
 * é‚£ä¹ˆä¹Ÿå°±æ˜¯è¯´éœ€è¦åœ¨æ•°ç»„ä¸­æ‰¾åˆ°å…¶ä»–çš„ç‚¹æ¥æ¥åŠ› çœ‹æ¥åŠ›èƒ½æŠµè¾¾çš„æœ€å¤§é•¿åº¦
 * å› ä¸ºlen(a)æ˜¯ä¸€ä¸ªä¸€ç›´åœ¨å˜åŒ–çš„é‡ ä¸æ–¹ä¾¿è®¡ç®— é‡æ–°å†™ä¸€ä¸‹å¼å­
 * a[i]=len(a)+1-i å¯ä»¥å†™æˆ len(a)=a[i]+i-1 ä¹Ÿå°±æ˜¯a[i]åŠ ä¸Šä»0å¼€å§‹çš„ä¸‹æ ‡
 * åªè¦å‰é¢æœ‰æ–¹æ³•èƒ½å¤Ÿå¾—åˆ° a[i]+i ï¼ˆä¸‹æ ‡ä»0å¼€å§‹çš„æƒ…å†µä¸‹ï¼‰
 * é‚£ä¹ˆå°±å¯ä»¥ ç»§ç»­å¾€åèµ° i-1 å› ä¸ºä»0å¼€å§‹ æ‰€ä»¥ç›´æ¥ä¹Ÿå°±æ˜¯ i
 * ç»¼ä¸Š åªéœ€è¦æŒ‰ç…§ a[i]+i -> a[i]+i+i çš„æ–¹å¼å»ºè¾¹
 * ä»len(a)è¿™ä¸ªç‚¹å¼€å§‹æœç´¢çœ‹æœ€å¤§çš„é•¿åº¦å°±å¯ä»¥äº†
 *
 * é¢˜è§£çš„æƒ³æ³•æ˜¯å¯¹a[i]åŠ ä¸Šä¸‹æ ‡å¾—åˆ°len[a]ä½†æ˜¯æˆ‘ä¸€ç›´æƒ³ç€å‡å»
 * å¦‚æœå¯ä»¥çš„è¯ å‡ºåº”è¯¥è¿˜æ˜¯èƒ½å‡ºçš„ ä½†æ˜¯å¾ˆéº»çƒ¦äº†
 * å–µå•Šï½
 * ğŸ’­ğŸ’¡ğŸˆ
 * */

#define int long long

void solve() {
    int n;
    cin >> n;
    vector<int> a(n + 1);
    for (int i = 0; i < n; i++) cin >> a[i];

    // å¦‚æœé€‰è¿™ä¸ªç‚¹ è¿™ä¸ªç‚¹å°±å¯ä»¥ç»§ç»­å‘åé€‰ +i çš„ç‚¹
    map<int, vector<int>> mp;
    for (int i = 1; i < n; i++) {
        mp[a[i] + i].push_back(a[i] + i + i);
    }

    int ans = 0;
    map<int, bool> vis;
    function<void(int)> dfs = [&](int u) {
        if (vis[u]) return;

        ans = max(ans, u);
        vis[u] = true;
        for (auto v : mp[u]) dfs(v);
    };
    dfs(n);

    cout << ans << '\n';
}

signed main() {
#ifdef __LOCAL__
    freopen("1.in", "r", stdin);
    // freopen("1.out", "w", stdout);
#endif

    ios::sync_with_stdio(false);
    cin.tie(nullptr), cout.tie(nullptr);

    int t = 1;
    cin >> t;
    while (t--) {
        solve();
    }
    return 0;
}


// https://codeforces.com/contest/2027/problem/C
// 2024-10-27
